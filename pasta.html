<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
		<title>Herbs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">    
	<link rel="stylesheet" type="text/css" href="/css/mystylesheet.css">
	<script>
	function addComment(){
		if(document.getElementById("name").value == ""){
     		alert("Please enter your name");
		}
		else if(document.getElementById("comment").value == ""){
			alert("Please enter a comment");
		}
		else{
			var date1 = new Date().toLocaleString();
     		document.getElementById("comments").innerHTML += date1 + " - " + document.getElementById("name").value + " - " + document.getElementById("comment").value + "<br/>";
     		document.getElementById("comment").value ="";
    		document.getElementById("name").value = "";
		}
    }   
	function rate(row,sd){
		if (sd == 1)  document.getElementById("rating" + row).innerHTML = "★";
		if (sd == 2)  document.getElementById("rating" + row).innerHTML = "★ ★";
		if (sd == 3)  document.getElementById("rating" + row).innerHTML = "★ ★ ★";
		if (sd == 4)  document.getElementById("rating" + row).innerHTML = "★ ★ ★ ★";
		if (sd == 5)  document.getElementById("rating" + row).innerHTML = "★ ★ ★ ★ ★";
    	document.getElementById("rating" + row).style.color = "blue";
	}
	window.onload = function () { 
    	var xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function() {
    		if (this.readyState == 4 && this.status == 200) {
       			var jsontext = this.responseText;
        		var obj1 = JSON.parse(jsontext);
        		var table = document.getElementById("mytable");
				var firstrow=1;
       			for (var i = 0; i < 5; i++) {
       				var row = table.insertRow();
       				var current =i+1;
       				var cell1 = row.insertCell(0);
       				cell1.style.verticalAlign = "top";
       				cell1.style.minWidth = "15%";
       				cell1.innerHTML = obj1[i].title + "<br/><span id='rating"+i+"'><a href='javascript:rate("+i+",1);''>☆</a> <a href='javascript:rate("+i+",2);''>☆</a> <a href='javascript:rate("+i+",3);''>☆</a> <a href='javascript:rate("+i+",4);''>☆</a> <a href='javascript:rate("+i+",5);'>☆</a></span>";
					
 					//var cell2 = row.insertCell(1);
 					//cell2.style.verticalAlign = "top";
       				//cell2.innerHTML = obj1[i].summary;
					
					var cell3 = row.insertCell(1);
					cell3.style.verticalAlign = "top";
       				cell3.innerHTML = "<img src='" + obj1[i].image + "' width='100px'/>";
					
					var cell4 = row.insertCell(2);
					cell4.style.verticalAlign = "top";
       				cell4.innerHTML = obj1[i].price;
					
					
					var row2 = table.insertRow();
					//row2.colSpan=3
					
					var row2cell1 = row2.insertCell(0);
					//row2cell1.style.verticalAlign = "top";
					row2cell1.colSpan=3;
       				row2cell1.innerHTML = obj1[i].summary+"<hr>";
       				
     			}
  			}
		};
		xhttp.open("GET", "items.json", true);
		xhttp.send();
    }   
	</script>
</head>
<body>
	<h1>Pasta</h1>
	<ul>
		<li><a href="/">Home</a></li>
		<li><a href="pasta.html">Pasta</a></li>
		<li><a href="herbs.html">Herbs</a></li>
		<li><a href="contact.html">Contact</a></li>
	</ul>
	<br/>
	<div id="mytablediv">
	<div id="mytablediv2">
		<table id="mytable">
			<thead><tr><th>Product</th><th>Image</th><th>Price</th></tr></thead>
			<tbody></tbody>
		</table>
	</div>
	<table id="commentsTable">
       	<tr><td id="comments" colspan="2"></td></tr>
       	<tr><td class="col1">Add Comment</td><td class="col2"><textarea id="comment" ></textarea></td></tr>
		
      	<tr><td class="col1">Your Name</td><td class="col2" >
      		<input type="text" id="name"/></td></tr>
        	<tr><td ></td><td class="col2"><button id="submitcomment" type="button" onClick="addComment();">Submit Comment</button></td></tr>
    </table></div>
</body>
</html>